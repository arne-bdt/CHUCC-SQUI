
> sparql-query-ui@0.1.0 test:e2e:storybook
> playwright test --config=playwright-storybook.config.js


Running 7 tests using 1 worker

[E2E Test] Tab 1 editor content: SELECT * WHERE { ?s ?p ?o } LIMIT 10
  x  1 [chromium] â€º tests\e2e\tabs.storybook.spec.ts:21:3 â€º Tab Switching in Storybook â€º should switch query editor content when clicking between tabs (3.1s)
  x  2 [chromium] â€º tests\e2e\tabs.storybook.spec.ts:69:3 â€º Tab Switching in Storybook â€º should switch results when clicking between tabs (8.0s)
  ok 3 [chromium] â€º tests\e2e\tabs.storybook.spec.ts:102:3 â€º Tab Switching in Storybook â€º should isolate tabs across multiple story instances on docs page (4.2s)
  ok 4 [chromium] â€º tests\e2e\tabs.storybook.spec.ts:133:3 â€º Tab Switching in Storybook â€º should clear tabs after CTRL+F5 (hard refresh) (4.0s)
  ok 5 [chromium] â€º tests\e2e\tabs.storybook.spec.ts:160:3 â€º Tab UI Interactions â€º should show close buttons when multiple tabs exist (2.5s)
  x  6 [chromium] â€º tests\e2e\tabs.storybook.spec.ts:174:3 â€º Tab UI Interactions â€º should close tabs without navigation (7.9s)
  x  7 [chromium] â€º tests\e2e\tabs.storybook.spec.ts:192:3 â€º Tab UI Interactions â€º should highlight active tab (8.1s)


  1) [chromium] â€º tests\e2e\tabs.storybook.spec.ts:21:3 â€º Tab Switching in Storybook â€º should switch query editor content when clicking between tabs 

    Error: [2mexpect([22m[31mreceived[39m[2m).[22mnot[2m.[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: not [32m"SELECT * WHERE { ?s ?p ?o } LIMIT 10"[39m

      54 |     const editorContent1 = await editor.textContent();
      55 |     console.log('[E2E Test] Tab 1 editor content:', editorContent1);
    > 56 |     expect(editorContent1).not.toBe(tab2Query); // Tab 1 should NOT show tab 2's query
         |                                ^
      57 |     expect(editorContent1 || '').toBe(''); // Tab 1 should be empty
      58 |
      59 |     // Step 6: Click back to tab 2
        at c:\rd\CHUCC-SQUI\tests\e2e\tabs.storybook.spec.ts:56:32

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results\tabs.storybook-Tab-Switchi-2c482--when-clicking-between-tabs-chromium\test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results\tabs.storybook-Tab-Switchi-2c482--when-clicking-between-tabs-chromium\video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results\tabs.storybook-Tab-Switchi-2c482--when-clicking-between-tabs-chromium\error-context.md

  2) [chromium] â€º tests\e2e\tabs.storybook.spec.ts:69:3 â€º Tab Switching in Storybook â€º should switch results when clicking between tabs 

    Error: [2mexpect([22m[31mlocator[39m[2m).[22mtoBeVisible[2m([22m[2m)[22m failed

    Locator: locator('#storybook-preview-iframe').contentFrame().locator('.results-container')
    Expected: visible
    Timeout: 5000ms
    Error: element(s) not found

    Call log:
    [2m  - Expect "toBeVisible" with timeout 5000ms[22m
    [2m  - waiting for locator('#storybook-preview-iframe').contentFrame().locator('.results-container')[22m


       97 |     // In real scenario, check for specific result content
       98 |     const resultsContainer = storyFrame.locator('.results-container');
    >  99 |     await expect(resultsContainer).toBeVisible();
          |                                    ^
      100 |   });
      101 |
      102 |   test('should isolate tabs across multiple story instances on docs page', async ({ page }) => {
        at c:\rd\CHUCC-SQUI\tests\e2e\tabs.storybook.spec.ts:99:36

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results\tabs.storybook-Tab-Switchi-c898f--when-clicking-between-tabs-chromium\test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results\tabs.storybook-Tab-Switchi-c898f--when-clicking-between-tabs-chromium\video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results\tabs.storybook-Tab-Switchi-c898f--when-clicking-between-tabs-chromium\error-context.md

  3) [chromium] â€º tests\e2e\tabs.storybook.spec.ts:174:3 â€º Tab UI Interactions â€º should close tabs without navigation 

    Error: [2mexpect([22m[31mpage[39m[2m).[22mtoHaveURL[2m([22m[32mexpected[39m[2m)[22m failed

    Expected pattern: [32m/story\/squi-sparqlqueryui--allfeaturesenabled/[39m
    Received string:  [31m"http://localhost:6006/?path=/story/squi-sparqlqueryui--all-features-enabled"[39m
    Timeout: 5000ms

    Call log:
    [2m  - Expect "toHaveURL" with timeout 5000ms[22m
    [2m    9 Ã— unexpected value "http://localhost:6006/?path=/story/squi-sparqlqueryui--all-features-enabled"[22m


      187 |
      188 |     // Verify we're still on the same story (no navigation occurred)
    > 189 |     await expect(page).toHaveURL(/story\/squi-sparqlqueryui--allfeaturesenabled/);
          |                        ^
      190 |   });
      191 |
      192 |   test('should highlight active tab', async ({ page }) => {
        at c:\rd\CHUCC-SQUI\tests\e2e\tabs.storybook.spec.ts:189:24

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results\tabs.storybook-Tab-UI-Inte-237af-ose-tabs-without-navigation-chromium\test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results\tabs.storybook-Tab-UI-Inte-237af-ose-tabs-without-navigation-chromium\video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results\tabs.storybook-Tab-UI-Inte-237af-ose-tabs-without-navigation-chromium\error-context.md

  4) [chromium] â€º tests\e2e\tabs.storybook.spec.ts:192:3 â€º Tab UI Interactions â€º should highlight active tab 

    Error: [2mexpect([22m[31mlocator[39m[2m).[22mtoHaveAttribute[2m([22m[32mexpected[39m[2m)[22m failed

    Locator:  locator('#storybook-preview-iframe').contentFrame().locator('[role="tab"]').first()
    Expected: [32m"[7mtru[27me"[39m
    Received: [31m"[7mfals[27me"[39m
    Timeout:  5000ms

    Call log:
    [2m  - Expect "toHaveAttribute" with timeout 5000ms[22m
    [2m  - waiting for locator('#storybook-preview-iframe').contentFrame().locator('[role="tab"]').first()[22m
    [2m    9 Ã— locator resolved to <a href="#" role="tab" tabindex="0" aria-selected="false" aria-disabled="false" id="ccs-0.byx7wsbt7hd" class="bx--tabs__nav-link">â€¦</a>[22m
    [2m      - unexpected value "false"[22m


      208 |
      209 |     // First tab should now be active
    > 210 |     await expect(tab1).toHaveAttribute('aria-selected', 'true');
          |                        ^
      211 |     await expect(tab2).toHaveAttribute('aria-selected', 'false');
      212 |   });
      213 | });
        at c:\rd\CHUCC-SQUI\tests\e2e\tabs.storybook.spec.ts:210:24

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results\tabs.storybook-Tab-UI-Inte-0a625-should-highlight-active-tab-chromium\test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results\tabs.storybook-Tab-UI-Inte-0a625-should-highlight-active-tab-chromium\video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results\tabs.storybook-Tab-UI-Inte-0a625-should-highlight-active-tab-chromium\error-context.md

  4 failed
    [chromium] â€º tests\e2e\tabs.storybook.spec.ts:21:3 â€º Tab Switching in Storybook â€º should switch query editor content when clicking between tabs 
    [chromium] â€º tests\e2e\tabs.storybook.spec.ts:69:3 â€º Tab Switching in Storybook â€º should switch results when clicking between tabs 
    [chromium] â€º tests\e2e\tabs.storybook.spec.ts:174:3 â€º Tab UI Interactions â€º should close tabs without navigation 
    [chromium] â€º tests\e2e\tabs.storybook.spec.ts:192:3 â€º Tab UI Interactions â€º should highlight active tab 
  3 passed (44.5s)

[36m  Serving HTML report at http://localhost:64772. Press Ctrl+C to quit.[39m
