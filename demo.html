<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SQUI - Standalone Demo</title>
  <link rel="icon" type="image/x-icon" href="./public/favicon.ico" />

  <!-- Carbon Design System styles (theme-specific) -->
  <link rel="stylesheet" href="./dist-standalone/css/white.css" />
  <!-- Component styles -->
  <link rel="stylesheet" href="./dist/sparql-query-ui.css" />

  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'IBM Plex Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
    }

    #squi-container {
      width: 100vw;
      height: 100vh;
    }
  </style>
</head>
<body class="white">
  <div id="squi-container" class="white"></div>

  <!-- Load the SQUI library as ES module -->
  <script type="module">
    import SparqlQueryUI from './dist/sparql-query-ui.js';

    // Initialize SQUI by mounting the Svelte component
    try {
      const squi = new SparqlQueryUI({
        target: document.getElementById('squi-container'),
        props: {
          endpoint: {
            url: 'https://dbpedia.org/sparql',
            hideSelector: false
          },
          theme: {
            theme: 'white'
          },
          features: {
            enableTabs: true,
            enableFilters: true,
            enableDownloads: true,
            enableSharing: false,
            enableHistory: true
          },
          limits: {
            maxRows: 100000,
            chunkSize: 1000,
            timeout: 30000
          }
        }
      });

      console.log('SQUI initialized successfully:', squi);
    } catch (error) {
      console.error('Failed to initialize SQUI:', error);
      document.getElementById('squi-container').innerHTML = `
        <div style="padding: 20px; color: #da1e28;">
          <h1>Failed to initialize SQUI</h1>
          <pre style="background: #f4f4f4; padding: 10px; overflow: auto;">${error.stack || error}</pre>
        </div>
      `;
    }
  </script>
</body>
</html>
